#!/bin/bash
# snippet-edit - Open snippets file for editing
# Usage: snippet-edit

SNIPPETS_FILE="${HOME}/.config/agent-snippets/snippets.txt"

# Use $EDITOR, fall back to common editors
if [[ -n "$EDITOR" ]]; then
    $EDITOR "$SNIPPETS_FILE"
elif command -v code &> /dev/null; then
    code "$SNIPPETS_FILE"
elif command -v nano &> /dev/null; then
    nano "$SNIPPETS_FILE"
else
    # Platform-aware fallback
    if [[ "$(uname)" == "Darwin" ]]; then
        open "$SNIPPETS_FILE"
    elif command -v xdg-open &> /dev/null; then
        xdg-open "$SNIPPETS_FILE"
    else
        echo "No editor found. Set EDITOR environment variable."
        echo "File location: $SNIPPETS_FILE"
        exit 1
    fi
fi
